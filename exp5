def ends_with_ab(string):
    state = 0
    for char in string:
        if state == 0 and char == 'a':
            state = 1
        elif state == 1 and char == 'b':
            state = 2
        elif char == 'a':
            state = 1
        else:
            state = 0
    return state == 2

# Test cases
test_strings = ["ab", "cab", "aab", "abc", "ba"]

for s in test_strings:
    print(s, "->", ends_with_ab(s))
